/*!
* ux-angularjs-datagrid v.1.4.8
* (c) 2016, Obogo
* https://github.com/obogo/ux-angularjs-datagrid
* License: MIT.
*/
(function (exports, global) {
if (typeof define === "function" && define.amd) {
  define(exports);
} else if (typeof module !== "undefined" && module.exports) {
  module.exports = exports;
} else {
  global.ux = exports;
}


angular.module("ux").factory("iScrollAddon",function(){return["inst",function(a){function b(){var b={mouseWheel:!0,scrollbars:!0,bounce:!0,bindToWrapper:!0,tap:!0,interactiveScrollbars:!0,deceleration:.005,click:!0,startY:-(a.scrollHistory&&a.scrollHistory.getCurrentScroll()||a.values.scroll||0)};l||(a.element[0].style.overflowY="hidden",p.log("IScroll Init at startY %s",b.startY),l=new IScroll(a.element[0],b),l.on("beforeScrollStart",e),l.on("scrollStart",e),l.on("scrollEnd",f)),l._initEvents(!0),l.scroller=a.getContent()[0],l.scrollerStyle=l.scroller.style,l._initEvents(),l.scrollTo(0,b.startY),p.iScroll=l,c()}function c(){h(),m=setInterval(i,100)}function d(){clearTimeout(k)}function e(){d(),q=!0,a.dispatch(exports.datagrid.events.ON_SCROLL_START,-l.y)}function f(){d(),k=setTimeout(g,a.options.updateDelay)}function g(){a.values.scroll=-l.y,r.onScrollingStop(),q=!1}function h(){clearInterval(m)}function i(){var b;a.element?(b=a.element[0].offsetHeight)&&(h(),p.log("	refresh iscroll height:%s/%s",b,a.getContentHeight()),l.refresh()):h()}function j(b,c){var d=void 0!==c?-c:l.y;q&&d!==s&&(a.values.speed=d-s,a.values.absSpeed=Math.abs(a.values.speed),p.setScroll(-d),s=d,a.values.scrollPercent=(a.values.scroll/a.getContentHeight()*100).toFixed(2),p.fireOnScroll())}if(exports.datagrid.isIOS){IScroll||a.throwError("IScroll (https://github.com/cubiq/iscroll) is required to use the iScrollAddon.");var k,l,m,n,o,p=exports.logWrapper("iScrollAddon",{},"purple",a),q=!1,r=a.scrollModel,s=0;return o=a.scope.$on(exports.datagrid.events.ON_READY,function(){r.removeScrollListener(),o()}),a.unwatchers.push(a.scope.$on(exports.datagrid.events.ON_AFTER_HEIGHTS_UPDATED_RENDER,b)),p.getScroll=function(){return l&&l.y||0},p.setScroll=function(b){p.log("setScroll %s",b),a.values.scroll=b},p.waitForStop=r.waitForStop,p.scrollTo=function(c,d){p.log("scrollTo %s",c),a.element[0].scrollTop&&(a.element[0].scrollTop=0),l||b(),c=r.capScrollValue(c),l.scrollTo(0,-c,d?0:200),clearTimeout(n),d?(a.values.scroll||c)&&(q=!0,p.onUpdateScroll(null,c),q=!1,p.onScrollingStop()):n=setTimeout(function(){p.onScrollingStop()},200)},p.scrollToIndex=r.scrollToIndex,p.scrollToItem=r.scrollToItem,p.scrollIntoView=r.scrollIntoView,p.scrollToBottom=function(b){var c=a.getContentHeight()-a.getViewportHeight();l.scrollTo(0,-c,b?0:200)},p.onScrollingStop=r.onScrollingStop,p.onUpdateScroll=j,p.fireOnScroll=r.fireOnScroll,a.unwatchers.push(a.scope.$on(exports.datagrid.events.ON_AFTER_HEIGHTS_UPDATED_RENDER,function(){a.element[0].scrollTop=0,l&&i()})),p.destroy=function(){o(),clearTimeout(n),d(),r.destroy(),l&&l.destroy()},a.scrollModel=p,p}}]});
//# sourceMappingURL=ux-datagrid-iscroll.min.js.map
}(this.ux = this.ux || {}, function() {return this;}()));
